<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quản lý dự án chi tiết</title>
    <link rel="stylesheet" href="../css/details-prj.css">
</head>

<body>
    <div class="form">
        <div class="container">
            <div class="header">
                <div class="header-container">
                    <div class="header-left">Quản lý dự án</div>
                    <div class="header-right">
                        <div><a href="#" id="project">Dự án</a></div>
                        <div><a href="#" id="myTask">Nhiệm vụ của tôi</a></div>
                        <div><a href="#" id="logoutBtn">Đăng xuất</a></div>
                    </div>
                </div>
            </div>
            <div class="main">
                <div class="main-top">
                    <div class="container-left">
                        <h3 id="projectName">Xây dựng website thương mại điện tử</h3>
                        <p id="projectDescription">Dự án nhằm phát triển một nền tảng thương mại điện tử với các tính năng như giỏ hàng, thanh toán và quản lý sản phẩm</p>
                        <button class="add-btn" id ="btnAddTask">+ Thêm nhiệm vụ</button>
                    </div>
                    <div class="container-right">
                        <div class="line1">
                            <div>
                                <h3>Thành viên</h3>
                            </div>
                            <div><button id="btnAddMember">+Thêm thành viên</button></div>
                        </div>
                        <div class="line2">
                            <div class="box1">
                                <div class="bgr-blue">
                                    <p>An</p>
                                </div>
                                <div class="fontSize">
                                    <h4>An Nguyễn</h4>
                                    <p>Project owner</p>
                                </div>
                            </div>
                            <div class="box2">
                                <div class="bgr-violet">
                                    <p>BA</p>
                                </div>
                                <div class="fontSize">
                                    <h4>Bách Nguyễn</h4>
                                    <p>Frontend developer</p>
                                </div>
                            </div>
                            <div><img src="../assets/Button+BackgroundColor.png" alt=""></div>
                        </div>
                        <div class="line3">
                            <select name="" id="sortSelect">
                                <option value="">Sắp xếp theo</option>
                                <option value="dueDate">Hạn chót</option>
                                <option value="priority">Độ ưu tiên</option>
                            </select>
                            <input type="text" placeholder="Tìm kiếm nhiệm vụ" id="searchTask" oninput="searchTask() ">
                        </div>
                    </div>
                </div>
                <div class="main-bottom">
                    <h3>Danh sách nhiệm vụ</h3>
                    <table border="1" cellpadding="5px">
                        <thead>
                            <tr>
                                <th>Tên nhiệm vụ</th>
                                <th>Người phụ trách</th>
                                <th>Ưu tiên</th>
                                <th>Ngày bắt đầu</th>
                                <th>Hạn chót</th>
                                <th>Tiến độ</th>
                                <th colspan="2">Hành động</th>
                            </tr>
                        </thead>
                        <tbody class="taskList">
                            <!-- <tr>
                                <td colspan="7">
                                    <img src="../assets/1.png" alt=""> <span><b>To do</b></span>
                                </td>
                            </tr>
                            <tr>
                                <td>Soạn thảo đề cương dự án</td>
                                <td class="center">An Nguyễn</td>
                                <td class="center"><button class="blue">Thấp</button></td>
                                <td class="center">02-24</td>
                                <td class="center">02-27</td>
                                <td class="center"><button class="green">Đúng tiến độ</button></td>
                                <td class="center">
                                    <button class="edit-btn">Sửa</button>
                                    <button class="delete-task-btn">Xóa</button>
                                </td>
                            </tr>
                            <tr>
                                <td>Soạn thảo đề cương dự án</td>
                                <td class="center">An Nguyễn</td>
                                <td class="center "><button class="yellow">Trung bình</button></td>
                                <td class="center">02-24</td>
                                <td class="center">02-27</td>
                                <td class="center"><button class="yellow">Có rủi ro</button></td>
                                <td class="center">
                                    <button class="edit-btn">Sửa</button>
                                    <button class="delete-task-btn">Xóa</button>
                                </td>
                            </tr>
                            <tr>
                                <td>Soạn thảo đề cương dự án</td>
                                <td class="center">An Nguyễn</td>
                                <td class="center "><button class="red">Cao</button></td>
                                <td class="center">02-24</td>
                                <td class="center">02-27</td>
                                <td class="center"><button class="red">Trễ hạn</button></td>
                                <td class="center">
                                    <button class="edit-btn">Sửa</button>
                                    <button class="delete-task-btn">Xóa</button>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="7"><img src="../assets/1.png" alt=""><span><b>In Progress</b></span></td>
                            </tr>
                            <tr>
                                <td>Lên lịch họp kickoff</td>
                                <td class="center">An Nguyễn</td>
                                <td class="center "><button class="yellow">Trung bình</button></td>
                                <td class="center">02-24</td>
                                <td class="center">02-27</td>
                                <td class="center"><button class="yellow">Có rủi ro</button></td>
                                <td class="center">
                                    <button class="edit-btn">Sửa</button>
                                    <button class="delete-task-btn">Xóa</button>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="7"><img src="../assets/2.png" alt=""><span><b>Pending</b>
                                </span></td>
                            </tr>
                            <tr>
                                <td colspan="7"><img src="../assets/2.png" alt=""><b>Done</b></td>
                            </tr>
                        </tbody> -->
                    </table>
                </div>
            </div>
            <div class="footer">
                <p>&copy; Quản Lý Dự Án Nhóm. All rights reserved</p>
            </div>
        </div>
    </div>

    <!-- Modal sửa nhiệm vụ -->
    <div class="modal" id="taskModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Sửa nhiệm vụ</h2>
                <span class="close" onclick="closeEditModal()">&times;</span>
            </div>
            <div class="modal-body">
                <label for="taskName">Tên nhiệm vụ</label>
                <input type="text" id="taskName" placeholder="Nhập tên nhiệm vụ">
                <p class="error-message" id="taskNameError">Tên nhiệm vụ đã tồn tại</p>

                <label for="assignedTo">Người phụ trách</label>
                <select id="assignedTo">
                    <option value="">Chọn người phụ trách</option>
                </select>

                <label for="status">Trạng thái</label>
                <select id="status">
                    <option value="">Chọn trạng thái nhiệm vụ</option>
                    <option value="To do">To do</option>
                    <option value="In progress">In progress</option>
                    <option value="Pending">Pending</option>
                    <option value="Done">Done</option>

                </select>

                <label for="startDate">Ngày bắt đầu</label>
                <input type="date" id="startDate">

                <label for="dueDate">Hạn cuối</label>
                <input type="date" id="dueDate">

                <label for="priority">Độ ưu tiên</label>
                <select id="priority">
                    <option value="">Chọn độ ưu tiên</option>
                    <option value="Thấp">Thấp</option>
                    <option value="Cao">Cao</option>
                    <option value="Trung bình">Trung bình</option>
                </select>

                <label for="progress">Tiến độ</label>
                <select id="progress">
                    <option value="">Chọn tiến độ</option>
                    <option value="Trễ hạn">Trễ hạn</option>
                    <option value="Có rủi ro">Có rủi ro</option>
                    <option value="Đúng tiến độ">Đúng tiến độ</option>
                </select>
            </div>
            <div class="modal-footer">
                <button class="cancel-btn" onclick="closeEditModal()">Hủy</button>
                <button class="save-btn" onclick="confirmEdit()">Lưu</button>
            </div>
        </div>
    </div>

<!-- Modal thêm nhiệm vụ -->
<div class="popup" id="taskPopup">
    <div class="popup-content">
        <div class="popup-header">
            <h2>Thêm nhiệm vụ</h2>
            <span class="close-popup">&times;</span>
        </div>
        <div class="popup-body">
            <label for="taskTitle">Tên nhiệm vụ</label>
            <input type="text" id="taskTitle" placeholder="Nhập tên nhiệm vụ">
            <p class="error-text" id="taskTitleError">Tên nhiệm vụ đã tồn tại</p>

            <label for="taskOwner">Người phụ trách</label>
            <select id="taskOwner">
                <option value="">Chọn người phụ trách</option>
            </select>
            <p class="error-text" id="taskOwnerError"></p>

            <label for="taskStatus">Trạng thái</label>
            <select id="taskStatus">
                <option value="">Chọn trạng thái nhiệm vụ</option>
                <option value="To do">To do</option>
                <option value="In progress">In progress</option>
                <option value="Pending">Pending</option>
                <option value="Done">Done</option>

            </select>
            <p class="error-text" id="taskStatusError"></p>

            <label for="taskStartDate">Ngày bắt đầu</label>
            <input type="date" id="taskStartDate">
            <p class="error-text" id="taskStartDateError"></p>

            <label for="taskDueDate">Hạn cuối</label>
            <input type="date" id="taskDueDate">
            <p class="error-text" id="taskDueDateError"></p>

            <label for="taskPriority">Độ ưu tiên</label>
            <select id="taskPriority">
                <option value="">Chọn độ ưu tiên</option>
                <option value="Thấp">Thấp</option>
                <option value="Cao">Cao</option>
                <option value="Trung bình">Trung bình</option>

            </select>
            <p class="error-text" id="taskPriorityError"></p>

            <label for="taskProgress">Tiến độ</label>
            <select id="taskProgress">
                <option value="">Chọn tiến độ</option>
                <option value="Trễ hạn">Trễ hạn</option>
                <option value="Có rủi ro">Có rủi ro</option>
                <option value="Đúng tiến độ">Đúng tiến độ</option>
            </select>
            <p class="error-text" id="taskProgressError"></p>
        </div>
        <div class="popup-footer">
            <button class="dismiss-btn">Hủy</button>
            <button class="confirm-btn" onclick="handleSaveTask()">Lưu</button>
        </div>
    </div>
</div>



    <!-- Modal xóa -->
    <div class="delete-task-popup" id="deleteTaskPopup">
        <div class="delete-task-popup-content">
            <div class="delete-task-popup-header">
                <h2>Xác nhận xóa</h2>
                <span class="close-delete-task-popup" onclick=" closeDeleteModal()">&times;</span>
            </div>
            <div class="delete-task-popup-body">
                <p>Bạn chắc chắn muốn xóa nhiệm vụ này?</p>
            </div>
            <div class="delete-task-popup-footer">
                <button class="cancel-delete-task-btn" onclick=" closeDeleteModal()">Hủy</button>
                <button class="confirm-delete-task-btn" onclick="confirmDeleteTask()">Xóa</button>
            </div>
        </div>
    </div>


    <!-- Modal thêm thành viên -->
    <div class="member-modal" id="memberModal">
        <div class="member-modal-content">
            <div class="member-modal-header">
                <h2>Thêm thành viên</h2>
                <span class="btn-close">&times;</span>
            </div>
            <div class="member-modal-body">
                <label for="memberEmail">Email</label>
                <input type="email" id="memberEmail" placeholder="Nhập email">
                <p class="member-error-message" id="memberEmailError">Thành viên đã tồn tại</p>
    
                <label for="memberRole">Vai trò</label>
                <input type="text" id="memberRole" placeholder="Nhập vai trò">
            </div>
            <div class="member-modal-footer">
                <button class="btn-cancel">Huỷ</button>
                <button class="btn-save">Lưu</button>
            </div>
        </div>
    </div>

    <script src="../js/details-prj.js"></script>
</body>
</html>